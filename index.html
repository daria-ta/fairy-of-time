import { useState } from 'react';
import { Progress } from '@/components/ui/progress';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Plus, Sparkles } from 'lucide-react';
import { motion } from 'framer-motion';

export default function FairyDashboard() {
  const [xp, setXp] = useState(120);
  const [level, setLevel] = useState(3);
  const [goals, setGoals] = useState([
    '–ó–¥–æ—Ä–æ–≤–µ —Ç—ñ–ª–æ: –º—ñ–Ω—É—Å 1 –∫–≥',
    '–ü—Ä–æ–π—Ç–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –Ω–∞ 190+',
  ]);
  const [quests, setQuests] = useState([
    '–í–∏–≤—á–∏—Ç–∏ —Ñ–æ—Ä–º—É–ª–∏ –ø–ª–æ—â —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞',
    '–ù–µ —ó—Å—Ç–∏ —Å–æ–ª–æ–¥–∫–µ —Å—å–æ–≥–æ–¥–Ω—ñ',
  ]);

  const handleAddGoal = () => {
    const newGoal = prompt('–í–≤–µ–¥–∏ –Ω–æ–≤—É —Ü—ñ–ª—å:');
    if (newGoal) setGoals([...goals, newGoal]);
  };

  const handleAddQuest = () => {
    const newQuest = prompt('–í–≤–µ–¥–∏ –Ω–æ–≤–∏–π –∫–≤–µ—Å—Ç:');
    if (newQuest) setQuests([...quests, newQuest]);
  };

  return (
    <main className="p-6 bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen font-sans">
      <motion.h1 className="text-3xl font-bold text-center text-purple-700 mb-6" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>–§–µ—è –ß–∞—Å—É</motion.h1>

      <div className="grid md:grid-cols-2 gap-6">
        {/* –ê–≤–∞—Ç–∞—Ä–∫–∞ —ñ –∞–º—É–ª–µ—Ç */}
        <Card className="bg-white shadow-2xl rounded-2xl">
          <CardContent className="flex items-center gap-4 p-4">
            <img src="/avatar.png" alt="Avatar" className="w-20 h-20 rounded-full border-4 border-purple-300" />
            <div>
              <p className="text-xl font-semibold text-purple-800">–ê–º—É–ª–µ—Ç: –°—Ä—ñ–±–Ω–∞ –¶–µ–ø–æ—á–∫–∞</p>
              <p className="text-sm text-gray-600">–†—ñ–≤–µ–Ω—å –∞–º—É–ª–µ—Ç–∞: {level}</p>
            </div>
          </CardContent>
        </Card>

        {/* XP —ñ —Ä—ñ–≤–µ–Ω—å */}
        <Card className="bg-white shadow-2xl rounded-2xl">
          <CardContent className="p-4">
            <p className="text-lg font-medium text-purple-700 mb-2">–†—ñ–≤–µ–Ω—å: {level}</p>
            <Progress value={(xp % 100)} max={100} className="h-4 bg-purple-200" />
            <p className="text-sm text-gray-500 mt-1">{xp % 100}/100 XP –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è</p>
          </CardContent>
        </Card>

        {/* –¶—ñ–ª—ñ */}
        <Card className="bg-white shadow-lg rounded-2xl">
          <CardContent className="p-4">
            <div className="flex justify-between items-center mb-2">
              <h2 className="text-xl font-semibold text-purple-700">üéØ –¶—ñ–ª—ñ</h2>
              <Button variant="ghost" size="icon" onClick={handleAddGoal}><Plus className="w-4 h-4" /></Button>
            </div>
            <ul className="list-disc pl-5 space-y-1 text-gray-700">
              {goals.map((goal, idx) => (<li key={idx}>{goal}</li>))}
            </ul>
          </CardContent>
        </Card>

        {/* –ö–≤–µ—Å—Ç–∏ */}
        <Card className="bg-white shadow-lg rounded-2xl">
          <CardContent className="p-4">
            <div className="flex justify-between items-center mb-2">
              <h2 className="text-xl font-semibold text-purple-700">üìú –ú—ñ–Ω—ñ-–∫–≤–µ—Å—Ç–∏</h2>
              <Button variant="ghost" size="icon" onClick={handleAddQuest}><Plus className="w-4 h-4" /></Button>
            </div>
            <ul className="list-disc pl-5 space-y-1 text-gray-700">
              {quests.map((quest, idx) => (<li key={idx}>{quest}</li>))}
            </ul>
          </CardContent>
        </Card>

        {/* –ö–Ω–∏–≥–∞ –∑–∞–∫–ª–∏–Ω–∞–Ω—å */}
        <Card className="bg-white shadow-lg rounded-2xl col-span-full">
          <CardContent className="p-4">
            <h2 className="text-xl font-semibold text-purple-700 mb-2">üìò –ö–Ω–∏–≥–∞ –ó–∞–∫–ª–∏–Ω–∞–Ω—å</h2>
            <p className="text-gray-600">(–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ —Ç–∏ –∑–º–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ —Å–≤–æ—ó –º–∞–≥—ñ—á–Ω—ñ —Ñ–æ—Ä–º—É–ª–∏ —Ç–∞ —Ç—Ä–∏–≥–µ—Ä–∏ –¥—ñ–π)</p>
          </CardContent>
        </Card>

        {/* –ö–Ω–∏–≥–∞ –ñ–∏—Ç—Ç—è */}
        <Card className="bg-white shadow-lg rounded-2xl col-span-full">
          <CardContent className="p-4">
            <h2 className="text-xl font-semibold text-purple-700 mb-2">üìñ –ö–Ω–∏–≥–∞ –ñ–∏—Ç—Ç—è</h2>
            <p className="text-gray-600">(–ì–æ–ª–æ–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ç–∞ –≥–ª–∞–≤–∏ —Ç–≤–æ–≥–æ —à–ª—è—Ö—É)</p>
          </CardContent>
        </Card>
      </div>
    </main>
  );
}
